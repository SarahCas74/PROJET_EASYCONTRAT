<div class="createContrat">
    <h2 style="text-align:center">Créer un contrat</h2>
    
    <mat-stepper orientation="vertical" [linear]="false" #stepper>
        <form [formGroup]="createContratForm" class="formulaire">

            <mat-step [stepControl]="createContratForm">

                <ng-template matStepLabel >Choisir un salarié</ng-template>
                <select formControlName="fk_salarie">
                    <option *ngFor="let item of listeSalarie" [value]="item.id_salarie">
                        {{item.nom_salarie}} {{item.prenom_salarie}}
                    </option>
                </select>

                <button mat-button matStepperNext>Suivant</button>
            </mat-step>

            <mat-step [stepControl]="createContratForm">
                <mat-form-field appearance="fill">
                    <ng-template matStepLabel for="">Type de contrat</ng-template>
                    <mat-select [formControl]="typeFormControl" formControlName="type_" ngDefaultControl>
                        <mat-option *ngFor="let type of types" [value]="type.value">
                            {{type.type}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
                <button mat-button matStepperNext>Suivant</button>
            </mat-step>

            <mat-step [stepControl]="createContratForm">
                <mat-form-field appearance="fill">
                    <ng-template matStepLabel>Date de début</ng-template>
                    <input matInput type="date" class="form-control" formControlName="date_debut">
                </mat-form-field>
                <button mat-button matStepperNext>Suivant</button>
            </mat-step>

            <div *ngIf="createContratForm.value.type_ == 'CDD' ">
                <mat-step [stepControl]="createContratForm">
                    <mat-form-field appearance="fill">
                        <ng-template matStepLabel>Date de fin</ng-template>
                        <input matInput type="date" class="form-control" formControlName="date_fin">
                    </mat-form-field>
                    <button mat-button matStepperNext>Suivant</button>
                </mat-step>
            </div>

            <mat-checkbox formControlName="is_fullTime"> <ng-template  for="">Temps partiel
                    ?</ng-template>
            </mat-checkbox>

            <mat-step [stepControl]="createContratForm">
                <mat-form-field appearance="fill">
                    <ng-template matStepLabel>Fin de période d'essai</ng-template>
                    <input matInput type="date" class="form-control" formControlName="periode_fin_essai">
                </mat-form-field>
                <button mat-button matStepperNext>Suivant</button>
            </mat-step>

            <mat-step [stepControl]="createContratForm">
                <mat-form-field appearance="fill">
                    <ng-template matStepLabel for="">Rémunération</ng-template>
                    <input matInput type="number" class="form-control" formControlName="remuneration">
                </mat-form-field>
                <button mat-button matStepperNext>Suivant</button>
            </mat-step>

            <div *ngIf="createContratForm.value.type_ == 'CDD' ">
                <mat-step [stepControl]="createContratForm">
                    <mat-form-field appearance="fill">
                        <ng-template matStepLabel  for="">Motif</ng-template>
                        <mat-select [formControl]="motifFormControl" formControlName="motif" ngDefaultControl>
                            <mat-option *ngFor="let motif of motifs" [value]="motif.value">
                                {{motif.motif}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                    <button mat-button matStepperNext>Suivant</button>
                </mat-step>
            </div>

            <mat-step [stepControl]="createContratForm">
                <mat-form-field appearance="fill">
                    <ng-template  matStepLabel for="">Fonction</ng-template>
                    <input matInput type="text" class="form-control" formControlName="fonction">
                </mat-form-field>
                <button mat-button matStepperNext>Suivant</button>
            </mat-step>

            <mat-step [stepControl]="createContratForm">
                <mat-form-field appearance="fill">
                    <ng-template matStepLabel for="">Statut</ng-template>
                    <mat-select [formControl]="statutFormControl" formControlName="statut" ngDefaultControl>
                        <mat-option *ngFor="let statut of statuts" [value]="statut.value">
                            {{statut.statut}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
                <button mat-button matStepperNext>Suivant</button>
            </mat-step>

            



        </form>
            <mat-step>
                <ng-template matStepLabel >Terminé</ng-template>
                <button mat-raised-button type="submit" color="primary" [disabled]="createContratForm.invalid" (click)="onSubmitCreate(createContratForm)" 
                    mat-button>Créer le contrat</button>
                </mat-step>



    </mat-stepper>
</div>